<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pr√©-Aprova√ß√£o - IAmigos Dental</title>
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="assets/css/components.css" />
    <link rel="stylesheet" href="assets/css/lex-chat.css" />
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="container">
        <div class="logo-section">
          <a href="index.html" class="logo-link">
            <img src="assets/images/logo.png" alt="IAmigos Dental" class="logo" />
          </a>
          <span class="logo-text">IAmigos Dental</span>
        </div>

        <nav class="nav">
          <a href="index.html" class="nav-link">In√≠cio</a>
          <a href="chatbot.html" class="nav-link active">Pr√©-Aprova√ß√£o</a>
          <a href="upload.html" class="nav-link">Reembolso</a>
          <a href="clinics.html" class="nav-link">Dentistas</a>
          <a href="status.html" class="nav-link">Meus Pedidos</a>
        </nav>
      </div>
    </header>

    <main class="main">
      <div class="container">
        <div class="page-header">
          <h1>Assistente de Pr√©-Aprova√ß√£o</h1>
          <p class="page-description">
            Converse com nosso assistente IA para uma pr√©-aprova√ß√£o r√°pida do seu tratamento dental
          </p>
        </div>

        <div class="chat-layout">
          <!-- Sidebar com informa√ß√µes -->
          <aside class="chat-sidebar">
            <div class="sidebar-section">
              <h3>üìã Como Funciona</h3>
              <ol class="steps-list">
                <li>Descreva seus sintomas</li>
                <li>Informe seu plano dental</li>
                <li>Forne√ßa sua localiza√ß√£o</li>
                <li>Receba a an√°lise com IA</li>
                <li>Encontre dentistas pr√≥ximos</li>
              </ol>
            </div>

            <div class="sidebar-section">
              <h3>üí° Dicas</h3>
              <ul class="tips-list">
                <li>Seja espec√≠fico sobre seus sintomas</li>
                <li>Mencione h√° quanto tempo sente o desconforto</li>
                <li>Informe se j√° fez algum tratamento anterior</li>
                <li>Descreva a intensidade da dor (leve, moderada, forte)</li>
              </ul>
            </div>

            <div class="sidebar-section">
              <h3>üÜò Emerg√™ncias</h3>
              <div class="emergency-info">
                <p><strong>Procure atendimento imediato se tiver:</strong></p>
                <ul>
                  <li>Incha√ßo facial significativo</li>
                  <li>Dificuldade para respirar ou engolir</li>
                  <li>Sangramento que n√£o para</li>
                  <li>Dor insuport√°vel</li>
                </ul>
              </div>
            </div>
          </aside>

          <!-- √Årea principal do chat -->
          <div class="chat-main">
            <div class="chat-container">
              <!-- Cabe√ßalho do Chat -->
              <div class="chat-header">
                <div class="chat-header-info">
                  <h2>Assistente Dental IAmigos</h2>
                  <div class="chat-status" id="chatStatus">
                    <span class="status-indicator online"></span>
                    <span class="status-text">Conectado</span>
                  </div>
                </div>
                <div class="chat-header-actions">
                  <button class="btn btn-outline btn-small" onclick="resetChat()" title="Nova Conversa">
                    üîÑ Nova Conversa
                  </button>
                </div>
              </div>

              <!-- Mensagens do Chat -->
              <div class="chat-messages" id="chatMessages">
                <!-- Mensagem de boas-vindas -->
                <div class="message bot-message welcome-message">
                  <div class="message-avatar">ü§ñ</div>
                  <div class="message-content">
                    <h4>Ol√°! Sou seu assistente dental IAmigos üëã</h4>
                    <p>Estou aqui para ajudar com sua pr√©-aprova√ß√£o. Para come√ßar, preciso de algumas informa√ß√µes:</p>
                    <ul>
                      <li><strong>Seus sintomas principais</strong> - O que voc√™ est√° sentindo?</li>
                      <li><strong>Seu plano dental</strong> - Basic, Premium ou outro?</li>
                      <li><strong>Sua localiza√ß√£o</strong> - CEP para encontrar dentistas pr√≥ximos</li>
                    </ul>
                    <p>Vamos come√ßar? Por favor, descreva o que est√° sentindo.</p>
                  </div>
                </div>
              </div>

              <!-- Estado de Carregamento -->
              <div class="chat-loading" id="chatLoading">
                <div class="loading-content">
                  <div class="loading-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                  </div>
                  <p>Analisando com IA...</p>
                </div>
              </div>

              <!-- Resultados da An√°lise -->
              <div class="analysis-results" id="analysisResults">
                <div class="results-header">
                  <h3>üìä Resultado da An√°lise</h3>
                  <button class="btn-close" onclick="hideResults()">√ó</button>
                </div>
                <div class="results-grid">
                  <div class="result-card">
                    <div class="result-icon">ü©∫</div>
                    <div class="result-info">
                      <label>Condi√ß√£o Identificada</label>
                      <span id="resultCondition" class="result-value">-</span>
                    </div>
                  </div>
                  <div class="result-card">
                    <div class="result-icon">‚ö†Ô∏è</div>
                    <div class="result-info">
                      <label>N√≠vel de Urg√™ncia</label>
                      <span id="resultUrgency" class="result-value urgency-badge">-</span>
                    </div>
                  </div>
                  <div class="result-card">
                    <div class="result-icon">‚úÖ</div>
                    <div class="result-info">
                      <label>Status da Pr√©-Aprova√ß√£o</label>
                      <span id="resultApproval" class="result-value approval-badge">-</span>
                    </div>
                  </div>
                  <div class="result-card">
                    <div class="result-icon">üè•</div>
                    <div class="result-info">
                      <label>Dentistas Encontrados</label>
                      <span id="resultClinics" class="result-value">-</span>
                    </div>
                  </div>
                </div>
                <div class="results-actions">
                  <button class="btn btn-primary" onclick="viewClinics()">üìç Ver Dentistas Pr√≥ximos</button>
                  <button class="btn btn-secondary" onclick="startNewAnalysis()">üîÑ Nova An√°lise</button>
                </div>
              </div>

              <!-- Input do Chat -->
              <div class="chat-input-container">
                <div class="input-group">
                  <input
                    type="text"
                    id="userInput"
                    placeholder="Descreva seus sintomas ou responda as perguntas..."
                    maxlength="500"
                    aria-label="Digite sua mensagem"
                  />
                  <button id="sendButton" class="btn btn-primary" aria-label="Enviar mensagem">
                    <span class="btn-text">Enviar</span>
                    <span class="btn-loading">‚åõ</span>
                  </button>
                </div>
                <div class="input-actions">
                  <div class="quick-actions">
                    <span class="quick-actions-label">Exemplos r√°pidos:</span>
                    <button class="quick-action" onclick="insertExample('Estou com dor de dente h√° 3 dias')">
                      Dor de dente
                    </button>
                    <button class="quick-action" onclick="insertExample('Preciso de uma limpeza dental')">
                      Limpeza
                    </button>
                    <button class="quick-action" onclick="insertExample('Meu dente quebrou')">Dente quebrado</button>
                  </div>
                  <div class="input-info">
                    <span class="char-count" id="charCount">0/500</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <h4>IAmigos Dental</h4>
            <p>Solu√ß√µes inovadoras para seguros dentais</p>
          </div>
          <div class="footer-section">
            <h4>Suporte</h4>
            <p>suporte@iamigos.com</p>
            <p>(11) 9999-9999</p>
          </div>
        </div>
      </div>
    </footer>

    <!-- Scripts -->
    <script src="assets/js/utils.js"></script>
    <script src="assets/js/lex-integration.js"></script>
    <script src="assets/js/chatbot.js"></script>
  </body>
</html>
